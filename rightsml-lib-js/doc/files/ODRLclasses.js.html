<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>ODRLclasses.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/Action.html">Action</a></li>
            
                <li><a href="../classes/Asset.html">Asset</a></li>
            
                <li><a href="../classes/Constraint.html">Constraint</a></li>
            
                <li><a href="../classes/Duty.html">Duty</a></li>
            
                <li><a href="../classes/Party.html">Party</a></li>
            
                <li><a href="../classes/Permission.html">Permission</a></li>
            
                <li><a href="../classes/Policy.html">Policy</a></li>
            
                <li><a href="../classes/Prohibition.html">Prohibition</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/: ODRL.html">: ODRL</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: ODRLclasses.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
ï»¿/**
* This file of the module provides all classes of the ODRL data model
*
* @module: ODRL
* @author Copyright Michael W. Steidl (www.linkedin.com/in/michaelwsteidl)
* Published under MIT license (see http://www.opensource.org/licenses/MIT)
* development timestamp: 2014-09-04
*/
var Odrl;
(function (Odrl) {
    // Constant values:
    Odrl.nsUri = &quot;http://www.w3.org/ns/odrl/2/&quot;;
    Odrl.nsPrefix = &quot;o&quot;;

    var OdrlInJson;

    // The classes:
    // ****************************************************
    /**
    * Class for the Asset of the ODRL Core Model
    * @class Asset
    * @constructor
    * @param {String} uid The Unique Identifier of the Asset
    * @param {String} relation The relation of the asset to the policy
    */
    var Asset = (function () {
        function Asset(uid, relation) {
            this.uid = uid;
            this.relation = relation;
        }
        Asset.prototype.validationResult = function () {
            var valResult = &quot;&quot;;
            if (this.uid.length &lt; 1) {
                valResult = &quot;!! Asset: required uid is missing&lt;br /&gt;&quot;;
            }
            return valResult;
        };

        Asset.prototype.serializeXml = function (serStrIn) {
            return serStrIn + &quot;&lt;asset uid=\&quot;&quot; + this.uid + &quot;\&quot; relation=\&quot;&quot; + this.relation + &quot;\&quot;/&gt;&quot;;
        };
        return Asset;
    })();
    Odrl.Asset = Asset;

    // ****************************************************
    /**
    * Class for the Action of the ODRL Core Model
    * @class Action
    * @constructor
    * @param {String} name The identifing name of the Action
    */
    var Action = (function () {
        function Action(name) {
            this.name = name;
        }
        Action.prototype.validationResult = function () {
            var valResult = &quot;&quot;;
            if (this.name.length &lt; 1) {
                valResult = &quot;!! Action: required name is missing&lt;br /&gt;&quot;;
            }
            return valResult;
        };

        Action.prototype.serializeXml = function (serStrIn) {
            return serStrIn + &quot;&lt;action name=\&quot;&quot; + this.name + &quot;\&quot;/&gt;&quot;;
        };
        return Action;
    })();
    Odrl.Action = Action;

    // ****************************************************
    /**
    * Class for the Constraint of the ODRL Core Model
    * @class Constraint
    * @constructor
    * @param {String} name The identifing name of the Constraint
    * @param {String} operator The identifyer of the operator
    * @param {String} rightOperand The identifyer of the right operand
    * @param {String} dataType The identifyer of the data type of the right operand
    * @param {String} unit The identifyer of the unit of the right operand
    * @param {String} status The identifyer of the status
    */
    var Constraint = (function () {
        function Constraint(name, operator, rightOperand, dataType, unit, status) {
            this.name = name;
            this.operator = operator;
            this.rightOperand = rightOperand;
            this.dataType = dataType;
            this.unit = unit;
            this.status = status;
        }
        Constraint.prototype.validationResult = function () {
            var valResult = &quot;&quot;;
            if (this.name.length &lt; 1) {
                valResult = &quot;!! Constraint: required name is missing&lt;br /&gt;&quot;;
            }
            if (this.operator.length &lt; 1) {
                valResult += &quot;!! Constraint: required operator is missing&lt;br /&gt;&quot;;
            }
            if (this.rightOperand.length &lt; 1) {
                valResult += &quot;!! Constraint: required rightOperand is missing&lt;br /&gt;&quot;;
            }
            return valResult;
        };

        Constraint.prototype.serializeXml = function (serStrIn) {
            var serStrOut = serStrIn + &quot;&lt;constraint name=\&quot;&quot; + this.name + &quot;\&quot;&quot;;
            if (this.operator !== undefined &amp;&amp; this.operator != &quot;&quot;) {
                serStrOut += &quot; operator=\&quot;&quot; + this.operator + &quot;\&quot;&quot;;
            }
            if (this.rightOperand !== undefined &amp;&amp; this.rightOperand != &quot;&quot;) {
                serStrOut += &quot; rightOperand=\&quot;&quot; + this.rightOperand + &quot;\&quot;&quot;;
            }
            if (this.dataType !== undefined &amp;&amp; this.dataType != &quot;&quot;) {
                serStrOut += &quot; dataType=\&quot;&quot; + this.dataType + &quot;\&quot;&quot;;
            }
            if (this.unit !== undefined &amp;&amp; this.unit != &quot;&quot;) {
                serStrOut += &quot; unit=\&quot;&quot; + this.unit + &quot;\&quot;&quot;;
            }
            if (this.status !== undefined &amp;&amp; this.status != &quot;&quot;) {
                serStrOut += &quot; status=\&quot;&quot; + this.status + &quot;\&quot;&quot;;
            }
            serStrOut += &quot;/&gt;&quot;;
            return serStrOut;
        };
        return Constraint;
    })();
    Odrl.Constraint = Constraint;

    // ****************************************************
    /**
    * Class for the Party of the ODRL Core Model
    * @class Party
    * @constructor
    * @param {String} uid The Unique Identifier of the Party
    * @param {String} pfunction The identifier of the functional role this party takes
    * @param {String} scope The scope of the party
    */
    var Party = (function () {
        function Party(uid, pfunction, scope) {
            this.uid = uid;
            this.pfunction = pfunction;
            this.scope = scope;
        }
        Party.prototype.validationResult = function () {
            var valResult = &quot;&quot;;
            if (this.uid.length &lt; 1) {
                valResult = &quot;!! Party: required uid is missing&lt;br /&gt;&quot;;
            }
            if (this.pfunction.length &lt; 1) {
                valResult += &quot;!! Party: required function is missing&lt;br /&gt;&quot;;
            }
            return valResult;
        };

        Party.prototype.serializeXml = function (serStrIn) {
            var serStrOut = serStrIn + &quot;&lt;party uid=\&quot;&quot; + this.uid + &quot;\&quot;&quot;;
            if (this.pfunction !== undefined &amp;&amp; this.pfunction != &quot;&quot;) {
                serStrOut += &quot; function=\&quot;&quot; + this.pfunction + &quot;\&quot;&quot;;
            }
            if (this.scope !== undefined &amp;&amp; this.scope != &quot;&quot;) {
                serStrOut += &quot; scope=\&quot;&quot; + this.scope + &quot;\&quot;&quot;;
            }
            serStrOut += &quot;/&gt;&quot;;
            return serStrOut;
        };
        return Party;
    })();
    Odrl.Party = Party;

    // ****************************************************
    /**
    * Class for the Duty of the ODRL Core Model
    * @class Duty
    * @constructor
    */
    var Duty = (function () {
        function Duty() {
            this.uid = null;
            this.assets = [];
            this.constraints = [];
            this.parties = [];
        }
        /**
        * Method for setting the unique identifier of the Duty
        * @method setUid
        * @param {String} uid The unique identifier of the Duty
        */
        Duty.prototype.setUid = function (uid) {
            this.uid = uid;
            return this;
        };

        /**
        * Method for setting the action of the Duty
        * @method setAction
        * @param {String} actionname The identifier of the action
        */
        Duty.prototype.setAction = function (actionname) {
            this.action = new Action(actionname);
            return this;
        };

        /**
        * Method for adding an asset to the Duty
        * @method addAsset
        * @param {String} uid The unique identifier of the asset
        * @param {String} relation The relation of the asset to the Duty.
        */
        Duty.prototype.addAsset = function (uid, relation) {
            var newAsset = new Asset(uid, relation);
            this.assets.push(newAsset);
            return this;
        };

        /**
        * Method for adding a constraint to the Duty
        * @method addConstraint
        * @param {String} name The identifing name of the Constraint
        * @param {String} operator The identifyer of the operator
        * @param {String} rightOperand The identifyer of the right operand
        * @param {String} dataType The identifyer of the data type of the right operand
        * @param {String} unit The identifyer of the unit of the right operand
        * @param {String} status The identifyer of the status
        */
        Duty.prototype.addConstraint = function (name, operator, rightOperand, dataType, unit, status) {
            var newConstraint = new Constraint(name, operator, rightOperand, dataType, unit, status);
            this.constraints.push(newConstraint);
            return this;
        };

        /**
        * Method for adding a party to the Duty
        * @method addParty
        * @param {String} uid The Unique Identifier of the Party
        * @param {String} pfunction The identifier of the functional role this party takes
        * @param {String} scope The scope of the party
        */
        Duty.prototype.addParty = function (uid, pfunction, scope) {
            var newParty = new Party(uid, pfunction, scope);
            this.parties.push(newParty);
            return this;
        };

        Duty.prototype.validationResult = function () {
            var valResult = &quot;&quot;;
            if (this.action === undefined) {
                valResult = &quot;!! Duty: required action is missing&lt;br /&gt;&quot;;
            }
            return valResult;
        };

        Duty.prototype.serializeXml = function (serStrIn) {
            var serStrOut = serStrIn;
            if (this.uid != undefined &amp;&amp; this.uid != &quot;&quot;) {
                serStrOut += &quot;&lt;duty uid=\&quot;&quot; + this.uid + &quot;\&quot; &gt;&quot;;
            } else {
                serStrOut += &quot;&lt;duty&gt;&quot;;
            }
            var i;
            for (i = 0; i &lt; this.assets.length; i++) {
                serStrOut = this.assets[i].serializeXml(serStrOut);
            }
            if (this.action != undefined) {
                serStrOut = this.action.serializeXml(serStrOut);
            }
            for (i = 0; i &lt; this.constraints.length; i++) {
                serStrOut = this.constraints[i].serializeXml(serStrOut);
            }
            for (i = 0; i &lt; this.parties.length; i++) {
                serStrOut = this.parties[i].serializeXml(serStrOut);
            }
            serStrOut += &quot;&lt;/duty&gt;&quot;;
            return serStrOut;
        };

        Duty.prototype.buildDutyOdrlInJson = function () {
            var thisD = {};
            var i;
            if (this.action !== undefined) {
                thisD.action = this.action.name;
            }
            for (i = 0; i &lt; this.assets.length; i++) {
                if (this.assets[i].relation == Odrl.nsUri + &quot;target&quot;) {
                    thisD.target = this.assets[i].uid;
                }
                if (this.assets[i].relation == Odrl.nsUri + &quot;output&quot;) {
                    thisD.output = this.assets[i].uid;
                }
            }
            if (this.constraints.length &gt; 0) {
                thisD.constraints = [];
                var thisC;
                for (i = 0; i &lt; this.constraints.length; i++) {
                    thisC = {};
                    thisC.name = this.constraints[i].name;
                    thisC.operator = this.constraints[i].operator;
                    thisC.rightoperand = this.constraints[i].rightOperand;
                    if (this.constraints[i].dataType != undefined &amp;&amp; this.constraints[i].dataType !== &quot;&quot;) {
                        thisC.rightoperanddatatype = this.constraints[i].dataType;
                    }
                    if (this.constraints[i].unit != undefined &amp;&amp; this.constraints[i].unit !== &quot;&quot;) {
                        thisC.rightoperandunit = this.constraints[i].unit;
                    }
                    if (this.constraints[i].status != undefined &amp;&amp; this.constraints[i].status !== &quot;&quot;) {
                        thisC.status = this.constraints[i].status;
                    }
                    thisD.constraints.push(thisC);
                }
            }
            for (i = 0; i &lt; this.parties.length; i++) {
                if (this.parties[i].pfunction == Odrl.nsUri + &quot;assigner&quot;) {
                    thisD.assigner = this.parties[i].uid;
                }
                if (this.parties[i].pfunction == Odrl.nsUri + &quot;assignee&quot;) {
                    thisD.assignee = this.parties[i].uid;
                    if (this.parties[i].scope != &quot;&quot;) {
                        thisD.assignee_scope = this.parties[i].scope;
                    }
                }
            }
            return thisD;
        };
        return Duty;
    })();
    Odrl.Duty = Duty;

    // ****************************************************
    /**
    * Class for the Permission of the ODRL Core Model
    * @class Permission
    * @constructor
    */
    var Permission = (function () {
        function Permission() {
            this.action = null;
            this.assets = [];
            this.constraints = [];
            this.parties = [];
            this.duties = [];
        }
        /**
        * Method for setting the action of the Permission
        * @method setAction
        * @param {String} actionname The identifier of the action
        */
        Permission.prototype.setAction = function (actionname) {
            this.action = new Action(actionname);
            return this;
        };

        /**
        * Method for adding an asset to the Permission
        * @method addAsset
        * @param {String} uid The unique identifier of the asset
        * @param {String} relation The relation of the asset to the Duty.
        */
        Permission.prototype.addAsset = function (uid, relation) {
            var newAsset = new Asset(uid, relation);
            this.assets.push(newAsset);
            return this;
        };

        /**
        * Method for adding the required target asset to the Permission
        * @method addTargetAsset
        * @param {String} uid The unique identifier of the asset
        */
        Permission.prototype.addTargetAsset = function (uid) {
            var newAsset = new Asset(uid, Odrl.AssetRelationsCV.target);
            this.assets.push(newAsset);
            return this;
        };

        /**
        * Method for adding a constraint to the Permission
        * @method addConstraint
        * @param {String} name The identifing name of the Constraint
        * @param {String} operator The identifyer of the operator
        * @param {String} rightOperand The identifyer of the right operand
        * @param {String} dataType The identifyer of the data type of the right operand
        * @param {String} unit The identifyer of the unit of the right operand
        * @param {String} status The identifyer of the status
        */
        Permission.prototype.addConstraint = function (name, operator, rightOperand, dataType, unit, status) {
            var newConstraint = new Constraint(name, operator, rightOperand, dataType, unit, status);
            this.constraints.push(newConstraint);
            return this;
        };

        /**
        * Method for adding a party to the Permission
        * @method addParty
        * @param {String} uid The Unique Identifier of the Party
        * @param {String} pfunction The identifier of the functional role this party takes
        * @param {String} scope The scope of the party
        */
        Permission.prototype.addParty = function (uid, pfunction, scope) {
            var newParty = new Party(uid, pfunction, scope);
            this.parties.push(newParty);
            return this;
        };

        /**
        * Method for adding a duty to the Permission
        * @method addParty
        * @param {Duty} newDuty A duty instance
        */
        Permission.prototype.addDuty = function (newDuty) {
            this.duties.push(newDuty);
            return this;
        };

        Permission.prototype.validationResult = function () {
            var valResult = &quot;&quot;;
            if (this.action === undefined) {
                valResult = &quot;!! Permission: required action is missing&lt;br /&gt;&quot;;
            }
            if (this.assets.length == 0) {
                valResult += &quot;!! Permission: no asset assigned to it&lt;br /&gt;&quot;;
            }
            for (var i = 0; i &lt; this.assets.length; i++) {
                valResult += this.assets[i].validationResult();
            }
            for (i = 0; i &lt; this.parties.length; i++) {
                valResult += this.parties[i].validationResult();
            }
            for (i = 0; i &lt; this.constraints.length; i++) {
                valResult += this.constraints[i].validationResult();
            }
            for (i = 0; i &lt; this.duties.length; i++) {
                valResult += this.duties[i].validationResult();
            }
            return valResult;
        };

        Permission.prototype.serializeXml = function (serStrIn) {
            var serStrOut = serStrIn + &quot;&lt;permission&gt;&quot;;
            var i;
            for (i = 0; i &lt; this.assets.length; i++) {
                serStrOut = this.assets[i].serializeXml(serStrOut);
            }
            if (this.action != undefined) {
                serStrOut = this.action.serializeXml(serStrOut);
            }
            for (i = 0; i &lt; this.constraints.length; i++) {
                serStrOut = this.constraints[i].serializeXml(serStrOut);
            }
            for (i = 0; i &lt; this.parties.length; i++) {
                serStrOut = this.parties[i].serializeXml(serStrOut);
            }
            for (i = 0; i &lt; this.duties.length; i++) {
                serStrOut = this.duties[i].serializeXml(serStrOut);
            }
            serStrOut += &quot;&lt;/permission&gt;&quot;;
            return serStrOut;
        };

        Permission.prototype.buildOdrlInJson = function () {
            var thisP = {};
            var i;
            for (i = 0; i &lt; this.assets.length; i++) {
                if (this.assets[i].relation == Odrl.nsUri + &quot;target&quot;) {
                    thisP.target = this.assets[i].uid;
                }
                if (this.assets[i].relation == Odrl.nsUri + &quot;output&quot;) {
                    thisP.output = this.assets[i].uid;
                }
            }
            if (this.action != undefined) {
                thisP.action = this.action.name;
            }
            if (this.constraints.length &gt; 0) {
                thisP.constraints = [];
                var thisC;
                for (i = 0; i &lt; this.constraints.length; i++) {
                    thisC = {};
                    thisC.name = this.constraints[i].name;
                    thisC.operator = this.constraints[i].operator;
                    thisC.rightoperand = this.constraints[i].rightOperand;
                    if (this.constraints[i].dataType != undefined &amp;&amp; this.constraints[i].dataType !== &quot;&quot;) {
                        thisC.rightoperanddatatype = this.constraints[i].dataType;
                    }
                    if (this.constraints[i].unit != undefined &amp;&amp; this.constraints[i].unit !== &quot;&quot;) {
                        thisC.rightoperandunit = this.constraints[i].unit;
                    }
                    if (this.constraints[i].status != undefined &amp;&amp; this.constraints[i].status !== &quot;&quot;) {
                        thisC.status = this.constraints[i].status;
                    }
                    thisP.constraints.push(thisC);
                }
            }

            for (i = 0; i &lt; this.parties.length; i++) {
                switch (this.parties[i].pfunction) {
                    case Odrl.nsUri + &quot;assigner&quot;:
                        thisP.assigner = this.parties[i].uid;
                        if (this.parties[i].scope != &quot;&quot;) {
                            thisP.assigner_scope = this.parties[i].scope;
                        }
                        break;
                    case Odrl.nsUri + &quot;assignee&quot;:
                        thisP.assignee = this.parties[i].uid;
                        if (this.parties[i].scope != &quot;&quot;) {
                            thisP.assignee_scope = this.parties[i].scope;
                        }
                        break;
                    default:
                        var fieldname = &quot;unknownfunct&quot; + i.toString() + &quot;party&quot;;
                        thisP[fieldname] = this.parties[i].uid;
                        if (this.parties[i].scope != &quot;&quot;) {
                            fieldname = &quot;unknownfunct&quot; + i.toString() + &quot;party_scope&quot;;
                            thisP[fieldname] = this.parties[i].scope;
                        }
                        break;
                }
            }
            if (this.duties.length &gt; 0) {
                thisP.duties = [];
                for (i = 0; i &lt; this.duties.length; i++) {
                    thisP.duties.push(this.duties[i].buildDutyOdrlInJson());
                }
            }
            OdrlInJson.permissions.push(thisP);
        };
        return Permission;
    })();
    Odrl.Permission = Permission;

    // ****************************************************
    /**
    * Class for the Prohibition of the ODRL Core Model
    * @class Prohibition
    * @constructor
    */
    var Prohibition = (function () {
        function Prohibition() {
            this.action = null;
            this.assets = [];
            this.constraints = [];
            this.parties = [];
        }
        /**
        * Method for setting the action of the Prohibition
        * @method setAction
        * @param {String} actionname The identifier of the action
        */
        Prohibition.prototype.setAction = function (actionname) {
            this.action = new Action(actionname);
            return this;
        };

        /**
        * Method for adding an asset to the Prohibition
        * @method addAsset
        * @param {String} uid The unique identifier of the asset
        * @param {String} relation The relation of the asset to the Duty.
        */
        Prohibition.prototype.addAsset = function (uid, relation) {
            var newAsset = new Asset(uid, relation);
            this.assets.push(newAsset);
            return this;
        };

        /**
        * Method for adding the required target asset to the Prohibition
        * @method addTargetAsset
        * @param {String} uid The unique identifier of the asset
        */
        Prohibition.prototype.addTargetAsset = function (uid) {
            var newAsset = new Asset(uid, Odrl.AssetRelationsCV.target);
            this.assets.push(newAsset);
            return this;
        };

        /**
        * Method for adding a constraint to the Prohibition
        * @method addConstraint
        * @param {String} name The identifing name of the Constraint
        * @param {String} operator The identifyer of the operator
        * @param {String} rightOperand The identifyer of the right operand
        * @param {String} dataType The identifyer of the data type of the right operand
        * @param {String} unit The identifyer of the unit of the right operand
        * @param {String} status The identifyer of the status
        */
        Prohibition.prototype.addConstraint = function (name, operator, rightOperand, dataType, unit, status) {
            var newConstraint = new Constraint(name, operator, rightOperand, dataType, unit, status);
            this.constraints.push(newConstraint);
            return this;
        };

        /**
        * Method for adding a party to the Prohibition
        * @method addParty
        * @param {String} uid The Unique Identifier of the Party
        * @param {String} pfunction The identifier of the functional role this party takes
        * @param {String} scope The scope of the party
        */
        Prohibition.prototype.addParty = function (uid, pfunction, scope) {
            var newParty = new Party(uid, pfunction, scope);
            this.parties.push(newParty);
            return this;
        };

        Prohibition.prototype.validationResult = function () {
            var valResult = &quot;&quot;;
            if (this.action === undefined) {
                valResult = &quot;!! Prohibition: required action is missing&lt;br /&gt;&quot;;
            }
            if (this.assets.length == 0) {
                valResult += &quot;!! Prohibition: no asset assigned to it&lt;br /&gt;&quot;;
            }
            for (var i = 0; i &lt; this.assets.length; i++) {
                valResult += this.assets[i].validationResult();
            }
            for (i = 0; i &lt; this.parties.length; i++) {
                valResult += this.parties[i].validationResult();
            }
            for (i = 0; i &lt; this.constraints.length; i++) {
                valResult += this.constraints[i].validationResult();
            }
            return valResult;
        };

        Prohibition.prototype.serializeXml = function (serStrIn) {
            var serStrOut = serStrIn + &quot;&lt;prohibition&gt;&quot;;
            var i;
            for (i = 0; i &lt; this.assets.length; i++) {
                serStrOut = this.assets[i].serializeXml(serStrOut);
            }
            if (this.action != undefined) {
                serStrOut = this.action.serializeXml(serStrOut);
            }
            for (i = 0; i &lt; this.constraints.length; i++) {
                serStrOut = this.constraints[i].serializeXml(serStrOut);
            }
            for (i = 0; i &lt; this.parties.length; i++) {
                serStrOut = this.parties[i].serializeXml(serStrOut);
            }
            serStrOut += &quot;&lt;/prohibition&gt;&quot;;
            return serStrOut;
        };

        Prohibition.prototype.buildOdrlInJson = function () {
            var thisP = {};
            var i;

            for (i = 0; i &lt; this.assets.length; i++) {
                if (this.assets[i].relation == Odrl.nsUri + &quot;target&quot;) {
                    thisP.target = this.assets[i].uid;
                }
                if (this.assets[i].relation == Odrl.nsUri + &quot;output&quot;) {
                    thisP.output = this.assets[i].uid;
                }
            }
            if (this.action != undefined) {
                thisP.action = this.action.name;
            }
            if (this.constraints.length &gt; 0) {
                thisP.constraints = [];
                var thisC;
                for (i = 0; i &lt; this.constraints.length; i++) {
                    thisC = {};
                    thisC.name = this.constraints[i].name;
                    thisC.operator = this.constraints[i].operator;
                    thisC.rightoperand = this.constraints[i].rightOperand;
                    if (this.constraints[i].dataType != undefined &amp;&amp; this.constraints[i].dataType !== &quot;&quot;) {
                        thisC.rightoperanddatatype = this.constraints[i].dataType;
                    }
                    if (this.constraints[i].unit != undefined &amp;&amp; this.constraints[i].unit !== &quot;&quot;) {
                        thisC.rightoperandunit = this.constraints[i].unit;
                    }
                    if (this.constraints[i].status != undefined &amp;&amp; this.constraints[i].status !== &quot;&quot;) {
                        thisC.status = this.constraints[i].status;
                    }
                    thisP.constraints.push(thisC);
                }
            }
            for (i = 0; i &lt; this.parties.length; i++) {
                switch (this.parties[i].pfunction) {
                    case Odrl.nsUri + &quot;assigner&quot;:
                        thisP.assigner = this.parties[i].uid;
                        if (this.parties[i].scope != &quot;&quot;) {
                            thisP.assigner_scope = this.parties[i].scope;
                        }
                        break;
                    case Odrl.nsUri + &quot;assignee&quot;:
                        thisP.assignee = this.parties[i].uid;
                        if (this.parties[i].scope != &quot;&quot;) {
                            thisP.assignee_scope = this.parties[i].scope;
                        }
                        break;
                    default:
                        var fieldname = &quot;unknownfunct&quot; + i.toString() + &quot;party&quot;;
                        var temp = {};
                        thisP[fieldname] = this.parties[i].uid;
                        if (this.parties[i].scope != &quot;&quot;) {
                            fieldname = &quot;unknownfunct&quot; + i.toString() + &quot;party_scope&quot;;
                            thisP[fieldname] = this.parties[i].scope;
                        }
                        break;
                }
            }
        };
        return Prohibition;
    })();
    Odrl.Prohibition = Prohibition;

    // ****************************************************
    /**
    * Class for the Policy of the ODRL Core Model
    * @class Policy
    * @constructor
    * @param {String} uid The Unique Identifier of the Asset
    * @param {String} pType The identifier of the policy type
    */
    var Policy = (function () {
        function Policy(pUid, pType) {
            this.uid = pUid;
            this.type = Odrl.nsUri + pType;
            this.permissions = [];
            this.prohibitions = [];
        }
        /**
        * Method for setting the conflict property of the Policy
        * @method setConflict
        * @param {String} conflict The identifier of the conflict
        */
        Policy.prototype.setConflict = function (conflict) {
            this.conflict = conflict;
            return this;
        };

        /**
        * Method for adding a permission to the Policy
        * @method addPermission
        * @param {Permission} newPerm A permission instance
        */
        Policy.prototype.addPermission = function (newPerm) {
            this.permissions.push(newPerm);
            return this;
        };

        /**
        * Method for adding a Prohibition to the Policy
        * @method addProhibition
        * @param {Prohibition} newProhib A prohibition instance
        */
        Policy.prototype.addProhibition = function (newProhib) {
            this.prohibitions.push(newProhib);
            return this;
        };

        /**
        * Method for serializing the Policy to XML syntax
        * @method serializeXml
        */
        Policy.prototype.serializeXml = function () {
            var serStr = &quot;&lt;Policy uid=\&quot;&quot; + this.uid + &quot;\&quot; type=\&quot;&quot; + this.type + &quot;\&quot;&quot;;
            if (this.conflict != undefined &amp;&amp; this.conflict != &quot;&quot;) {
                serStr += &quot; conflict=\&quot;&quot; + this.conflict + &quot;\&quot;&quot;;
            }
            serStr += &quot; xmlns=\&quot;&quot; + Odrl.nsUri + &quot;\&quot; &gt;&quot;;
            var i;
            for (i = 0; i &lt; this.permissions.length; i++) {
                serStr = this.permissions[i].serializeXml(serStr);
            }
            for (i = 0; i &lt; this.prohibitions.length; i++) {
                serStr = this.prohibitions[i].serializeXml(serStr);
            }
            serStr += &quot;&lt;/Policy&gt;&quot;;
            return serStr;
        };

        Policy.prototype.buildOdrlInJson = function () {
            OdrlInJson = {};
            OdrlInJson.policytype = this.type;
            OdrlInJson.policyid = this.uid;
            if (this.conflict != undefined &amp;&amp; this.conflict != &quot;&quot;) {
                OdrlInJson.conflict = this.conflict;
            }
            if (this.undefined != undefined &amp;&amp; this.undefined != &quot;&quot;) {
                OdrlInJson.undefined = this.undefined;
            }
            if (this.inheritAllowed != undefined &amp;&amp; this.inheritAllowed != &quot;&quot;) {
                OdrlInJson.inheritallowed = this.inheritAllowed;
            }
            if (this.inheritFrom != undefined &amp;&amp; this.inheritFrom != &quot;&quot;) {
                OdrlInJson.inheritfrom = this.inheritFrom;
            }
            if (this.inheritRelation != undefined &amp;&amp; this.inheritRelation != &quot;&quot;) {
                OdrlInJson.inheritrelation = this.inheritRelation;
            }
            if (this.profile != undefined &amp;&amp; this.profile != &quot;&quot;) {
                OdrlInJson.profile = this.profile;
            }
            if (this.permissions.length &gt; 0) {
                OdrlInJson.permissions = [];
                for (var i = 0; i &lt; this.permissions.length; i++) {
                    this.permissions[i].buildOdrlInJson();
                }
            }
            if (this.prohibitions.length &gt; 0) {
                OdrlInJson.permissions = [];
                for (var i = 0; i &lt; this.prohibitions.length; i++) {
                    this.prohibitions[i].buildOdrlInJson();
                }
            }
        };

        /**
        * Method for validating the data inside the whole policy,
        * returns a string with HTML markup for line breaks.
        * Validates the existence of mandatory components
        * @method validationResult
        */
        Policy.prototype.validationResult = function () {
            var valResult = &quot;&quot;;
            if (this.permissions.length == 0 &amp;&amp; this.prohibitions.length == 0) {
                valResult += &quot;!! Policy: does not contain a permission or a prohibition &lt;br /&gt;&quot;;
            }
            for (var i = 0; i &lt; this.permissions.length; i++) {
                valResult += this.permissions[i].validationResult();
            }
            for (i = 0; i &lt; this.prohibitions.length; i++) {
                valResult += this.prohibitions[i].validationResult();
            }

            return valResult;
        };

        /**
        * Method for serializing the Policy to the official ODRL JSON syntax
        * @method serializeJson
        */
        Policy.prototype.serializeJson = function () {
            this.buildOdrlInJson();
            return JSON.stringify(OdrlInJson, null, 2);
        };

        /**
        * Method for serializing the Policy to JSON reflecting the Core Model
        * @method serializeCoreModelJson
        */
        Policy.prototype.serializeCoreModelJson = function () {
            return JSON.stringify(this, null, 2);
        };
        return Policy;
    })();
    Odrl.Policy = Policy;
})(Odrl || (Odrl = {}));
//# sourceMappingURL=ODRLclasses.js.map

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
